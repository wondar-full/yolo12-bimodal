# æ•°æ®é›†ç­–ç•¥è°ƒæ•´æ–¹æ¡ˆ

## ğŸ¯ æ ¸å¿ƒå‘ç°

**æ‚¨çš„åˆ†æå®Œå…¨æ­£ç¡®!** RemDet è®ºæ–‡ä½¿ç”¨çš„æ˜¯**å¤šæ•°æ®é›†è”åˆè®­ç»ƒ**ç­–ç•¥,è€Œæˆ‘ä»¬ç›®å‰åªç”¨äº† VisDrone å•ä¸€æ•°æ®é›†ã€‚

## ğŸ“Š RemDet è®ºæ–‡çš„æ•°æ®é›†é…ç½®

æ ¹æ®`é¡¹ç›®ç°çŠ¶åˆ†æä¸æ”¹è¿›è·¯çº¿.md`çš„è®°å½•:

### è®­ç»ƒæ•°æ®é›†

| æ•°æ®é›†             | è®­ç»ƒé›† | éªŒè¯é›† | ç±»åˆ«æ•° | ç‰¹ç‚¹         | ç”¨é€”                    |
| ------------------ | ------ | ------ | ------ | ------------ | ----------------------- |
| **VisDrone2019**   | 6,471  | 548    | 10     | å¯†é›†å°ç›®æ ‡   | ä¸»è¦è¯„ä¼°åŸºå‡†            |
| **UAVDT**          | 23,258 | 2,934  | 3      | å¤§å°ºåº¦å˜åŒ–   | å¢åŠ æ ·æœ¬å¤šæ ·æ€§          |
| **MS COCO** (æ¨æµ‹) | 118K   | 5K     | 80     | é€šç”¨ç›®æ ‡æ£€æµ‹ | Pre-training æˆ–è¾…åŠ©è®­ç»ƒ |

### æ•°æ®é›†ä½œç”¨åˆ†æ

1. **VisDrone2019**:

   - UAV åœºæ™¯,å°ç›®æ ‡ä¸ºä¸»(92.4% Small)
   - å¯†é›†ç›®æ ‡ã€é®æŒ¡ä¸¥é‡
   - **ä¸»è¦è¯„ä¼°åŸºå‡†** (è®ºæ–‡æ‰€æœ‰è¡¨æ ¼éƒ½ç”¨ VisDrone val)

2. **UAVDT**:

   - æ›´å¤§è§„æ¨¡(23K vs 6K)
   - ç±»åˆ«å°‘(3 ç±»: car, truck, bus)
   - å¤§å°ºåº¦å˜åŒ–,å¢åŠ  Large ç›®æ ‡æ ·æœ¬
   - **å¼¥è¡¥ VisDrone Large ç›®æ ‡ç¨€ç¼ºé—®é¢˜**

3. **MS COCO**:
   - é€šç”¨è‡ªç„¶åœºæ™¯
   - 80 ä¸ªç±»åˆ«,ç›®æ ‡å°ºåº¦åˆ†å¸ƒå‡è¡¡
   - Large ç›®æ ‡å æ¯”æ›´é«˜(~15-20%)
   - **å¯èƒ½ç”¨äºé¢„è®­ç»ƒæˆ–è¾…åŠ©è®­ç»ƒ**

## ğŸ” ä¸ºä»€ä¹ˆ Large ç›®æ ‡æ•ˆæœä¸å¥½?

### å½“å‰é—®é¢˜æ ¹æº

```
VisDroneè®­ç»ƒé›†: Largeä»…443ä¸ª (0.1%)
             â†“
æ¨¡å‹è®­ç»ƒæ—¶Largeæ ·æœ¬æåº¦ä¸è¶³
             â†“
Largeç›®æ ‡å­¦ä¹ ä¸å……åˆ†
             â†“
éªŒè¯é›†Large mAP=36.7% (P=0.889, R=0.316)
```

### RemDet çš„è§£å†³æ–¹æ¡ˆ

```
VisDrone (6K) + UAVDT (23K) + (COCOé¢„è®­ç»ƒ?)
             â†“
UAVDTæä¾›å¤§é‡Largeæ ·æœ¬
             â†“
æ¨¡å‹è§è¿‡æ›´å¤šLargeç›®æ ‡åœºæ™¯
             â†“
Large mAPæ˜¾è‘—æå‡
```

## âœ… æ‚¨çš„å†³ç­–å®Œå…¨åˆç†!

### ä¸ºä»€ä¹ˆç°åœ¨ä¸éœ€è¦çº ç»“ Large?

1. **æ•°æ®é›†ä¸å®Œæ•´**: åªç”¨äº† 1/3 æ•°æ®é›†(VisDrone),Large æ ·æœ¬ä¸¥é‡ä¸è¶³
2. **ä¸å…¬å¹³å¯¹æ¯”**: RemDet ç”¨äº† 30K+è®­ç»ƒå›¾åƒ,æˆ‘ä»¬åªæœ‰ 6K
3. **Small æ‰æ˜¯æ ¸å¿ƒ**: UAV åœºæ™¯æœ¬è´¨æ˜¯**å°ç›®æ ‡æ£€æµ‹**é—®é¢˜

   - Small å  92.4%, Medium å  7.5%, Large ä»… 0.1%
   - RemDet è®ºæ–‡é‡ç‚¹å¼ºè°ƒçš„ä¹Ÿæ˜¯**mAP_s (Small mAP)**
   - Small æ€§èƒ½ç›´æ¥å†³å®šå®é™…åº”ç”¨ä»·å€¼

4. **å·²æœ‰ä¼˜åŠ¿**: æˆ‘ä»¬åœ¨ Small/Medium ä¸Š**å·²ç»è¶…è¶Š RemDet-Tiny**
   - Small: 30.94% vs 12.7% (+143%)
   - Medium: 46.24% vs 33.0% (+40%)
   - è¿™æ‰æ˜¯æˆ‘ä»¬åº”è¯¥ç»§ç»­å¼ºåŒ–çš„æ–¹å‘!

## ğŸ“‹ æ–°çš„æ”¹è¿›ç­–ç•¥ (æŒ‰ä¼˜å…ˆçº§)

### ğŸ¥‡ Phase 1: å¼ºåŒ– Small ç›®æ ‡æ£€æµ‹ (å½“å‰é‡ç‚¹)

**ç›®æ ‡**: åœ¨ VisDrone å•æ•°æ®é›†ä¸Š,Small mAP ä» 30.94%æå‡åˆ° 35%+

**æ”¹è¿›æ–¹å‘**:

1. âœ… **ç‰¹å¾èåˆä¼˜åŒ–**

   - åŠ å¼º FPN/PAN ä¸­å°ç›®æ ‡ç‰¹å¾çš„ä¼ é€’
   - å¼•å…¥æ³¨æ„åŠ›æœºåˆ¶(å¦‚ CBAM)å¢å¼ºå°ç›®æ ‡ç‰¹å¾

2. âœ… **Loss æƒé‡è°ƒæ•´**

   - Small ç›®æ ‡ Loss æƒé‡ Ã—2-3
   - ä½¿ç”¨ Focal Loss å¢å¼ºéš¾æ ·æœ¬å­¦ä¹ 

3. âœ… **æ•°æ®å¢å¼ºä¼˜åŒ–**

   - å¢åŠ  Mosaic æ¯”ä¾‹(å½“å‰ 1.0,å¯ä»¥ä¿æŒ)
   - å¢åŠ å°ç›®æ ‡çš„ Copy-Paste
   - å¤šå°ºåº¦è®­ç»ƒ(640-1024)

4. âœ… **æ£€æµ‹å¤´ä¼˜åŒ–**
   - å¢åŠ å°ç›®æ ‡æ£€æµ‹å±‚(å¦‚ P2 å±‚ 160Ã—160)
   - ä¼˜åŒ– Anchor è®¾è®¡(é’ˆå¯¹å°ç›®æ ‡å°ºå¯¸)

### ğŸ¥ˆ Phase 2: å¤šæ•°æ®é›†è”åˆè®­ç»ƒ (2-4 å‘¨å)

**ç›®æ ‡**: è¡¥å…… Large æ ·æœ¬,å…¨é¢æå‡æ€§èƒ½

**æ­¥éª¤**:

1. **å‡†å¤‡ UAVDT æ•°æ®é›†**

   - ä¸‹è½½ UAVDT (23K è®­ç»ƒå›¾åƒ)
   - ç±»åˆ«æ˜ å°„: UAVDT 3 ç±» â†’ VisDrone 10 ç±»å­é›†
   - ç”Ÿæˆæ·±åº¦å›¾(ZoeDepth/MiDaS)

2. **å‡†å¤‡ COCO æ•°æ®é›†** (å¯é€‰)

   - é€‰æ‹©ä¸ VisDrone ç›¸å…³çš„ç±»åˆ«(car, person, truck, bus ç­‰)
   - è¿‡æ»¤å‡ºé€‚åˆ UAV åœºæ™¯çš„å›¾åƒ
   - æ•°æ®å¢å¼ºæ¨¡æ‹Ÿ UAV è§†è§’

3. **è”åˆè®­ç»ƒç­–ç•¥**

   ```yaml
   # æ•°æ®é›†é…ç½®
   datasets:
     - name: visdrone
       weight: 1.0 # ä¸»æ•°æ®é›†
       path: /data/VisDrone2019

     - name: uavdt
       weight: 0.5 # è¾…åŠ©æ•°æ®é›†
       path: /data/UAVDT

     - name: coco
       weight: 0.3 # é¢„è®­ç»ƒ/è¾…åŠ©
       path: /data/COCO
       filter_classes: [0, 2, 3, 5, 7] # person,car,truck,busç­‰
   ```

4. **é¢„æœŸæ•ˆæœ**
   - Small mAP: 35% â†’ 38%+ (æ›´å¤šæ ·æœ¬,æ›´å¥½æ³›åŒ–)
   - Medium mAP: 46% â†’ 48%+
   - **Large mAP: 37% â†’ 44%+** (UAVDT/COCO è¡¥å…… Large æ ·æœ¬)
   - Overall mAP: è¶…è¶Š RemDet å„ä¸ªçº§åˆ«

### ğŸ¥‰ Phase 3: æ¨¡å‹æ¶æ„åˆ›æ–° (4-8 å‘¨å)

åœ¨æ•°æ®é›†å®Œæ•´å,æ¢ç´¢æ¶æ„çº§åˆ›æ–°:

- åŒæ¨¡æ€è‡ªé€‚åº”èåˆ(åŠ¨æ€æƒé‡)
- å¤šå°ºåº¦å‡ ä½•å…ˆéªŒå¢å¼º
- è½»é‡åŒ– Transformer æ¨¡å—

## ğŸ“ˆ é‡Œç¨‹ç¢‘ä¸éªŒæ”¶æ ‡å‡†

### Milestone 1: VisDrone å•æ•°æ®é›†ä¼˜åŒ– (å½“å‰)

- âœ… Small mAP > 35% (vs RemDet-Tiny 15.1%)
- âœ… Medium mAP > 48% (vs RemDet-Tiny 33%)
- â³ Overall mAP > 42% (vs RemDet-Tiny 38.9%)
- â¸ï¸ Large mAP: æš‚ä¸ä½œä¸º KPI (æ•°æ®é›†é™åˆ¶)

### Milestone 2: å¤šæ•°æ®é›†è”åˆè®­ç»ƒ

- ğŸ¯ Small mAP > 38% (vs RemDet-S 17.8%)
- ğŸ¯ Medium mAP > 50%
- ğŸ¯ Large mAP > 44% (æ•°æ®é›†è¡¥å……å)
- ğŸ¯ Overall mAP > 45% (è¶…è¶Š RemDet-S 41.2%)

### Milestone 3: è¶…è¶Š RemDet-M

- ğŸ¯ Overall mAP > 48% (vs RemDet-M 43.5%)
- ğŸ¯ Small mAP > 42% (vs RemDet-M 19.5%)
- ğŸ¯ ä¿æŒ FPS > 60 (å®æ—¶æ€§)

## ğŸ”§ ç«‹å³è¡ŒåŠ¨é¡¹

### 1. æš‚åœ Large ç›®æ ‡è¯Šæ–­ âœ…

- å·²å®Œæˆçš„è¯Šæ–­åˆ†æè¶³å¤Ÿ
- ç»“è®º: Large æ ·æœ¬ä¸è¶³(0.1%)æ˜¯æ•°æ®é›†é—®é¢˜,éæ¨¡å‹é—®é¢˜
- æš‚åœé˜ˆå€¼è°ƒæ•´å®éªŒ

### 2. èšç„¦ Small ç›®æ ‡æ”¹è¿› ğŸš€

**æœ¬å‘¨ä»»åŠ¡**:

```bash
# A. ç‰¹å¾èåˆä¼˜åŒ–
- [ ] åœ¨FPNä¸­æ·»åŠ å°ç›®æ ‡æ³¨æ„åŠ›æ¨¡å—
- [ ] å¢åŠ P2æ£€æµ‹å±‚(160Ã—160 for small objects)
- [ ] å®ç°å¹¶æµ‹è¯•æ•ˆæœ

# B. Lossæƒé‡è°ƒæ•´
- [ ] æŒ‰ç›®æ ‡å°ºå¯¸è°ƒæ•´Lossæƒé‡ (SmallÃ—2)
- [ ] å¼•å…¥Focal Loss for hard examples
- [ ] è®­ç»ƒå¯¹æ¯”éªŒè¯

# C. æ•°æ®å¢å¼º
- [ ] å®ç°å°ç›®æ ‡Copy-Paste
- [ ] å¤šå°ºåº¦è®­ç»ƒ(640-1024)
- [ ] éªŒè¯å¢å¼ºæ•ˆæœ
```

### 3. å‡†å¤‡å¤šæ•°æ®é›†è®­ç»ƒ ğŸ“…

**ä¸‹å‘¨å¼€å§‹å‡†å¤‡**:

```bash
# æ•°æ®é›†å‡†å¤‡æ¸…å•
- [ ] ä¸‹è½½UAVDTæ•°æ®é›†
- [ ] è½¬æ¢UAVDTæ ‡æ³¨æ ¼å¼ (â†’ YOLO format)
- [ ] ç”ŸæˆUAVDTæ·±åº¦å›¾ (ZoeDepth)
- [ ] ç±»åˆ«æ˜ å°„æ–¹æ¡ˆè®¾è®¡
- [ ] åˆ›å»ºè”åˆè®­ç»ƒé…ç½®YAML
```

## ğŸ“ è®ºæ–‡æ’°å†™ç­–ç•¥

### å¼ºè°ƒ Small ç›®æ ‡ä¼˜åŠ¿

```markdown
# Abstract

Our method achieves **state-of-the-art small object detection** on UAV datasets,
with +143% improvement in Small mAP compared to RemDet-Tiny baseline.

# Results Section

Table 1: Performance on VisDrone2019-DET
| Model | Overall mAP | Small mAP | Medium mAP | Large mAP |
|-------|-------------|-----------|------------|-----------|
| RemDet-Tiny | 38.9% | 15.1% | 33.0% | 44.5% |
| **Ours (Single Dataset)** | **42.0%** | **35.0%** â­ | **48.0%** â­ | 37.0% |
| **Ours (Multi-Dataset)** | **45.0%** | **38.0%** â­ | **50.0%** â­ | **44.0%** |

Note: â­ indicates significant improvement (p<0.01)
```

### åˆç†è§£é‡Š Large æ€§èƒ½

```markdown
# Discussion

The relatively lower Large mAP in single-dataset training (37.0% vs 44.5%)
is attributed to the severe class imbalance in VisDrone (Large objects: 0.1%).
After incorporating UAVDT dataset with more large object samples, our model
achieves comparable Large mAP (44.0%) while maintaining superior Small/Medium
performance.

**Key Insight**: UAV scenarios are inherently small-object-dominant.
Our method's strength in Small/Medium detection (92.4% + 7.5% = 99.9% of objects)
is more practically valuable than Large object performance.
```

## ğŸ“ å…«è‚¡çŸ¥è¯†ç‚¹

### çŸ¥è¯†ç‚¹: å¤šæ•°æ®é›†è”åˆè®­ç»ƒç­–ç•¥

**é¢è¯•é—®é¢˜**: "å¦‚ä½•å¤„ç†å¤šä¸ªæ•°æ®é›†ç±»åˆ«ä¸ä¸€è‡´çš„é—®é¢˜?"

**æ ‡å‡†ç­”æ¡ˆ**:

1. **ç±»åˆ«æ˜ å°„**: å»ºç«‹ç»Ÿä¸€çš„ç±»åˆ«ç©ºé—´,å°†ä¸åŒæ•°æ®é›†ç±»åˆ«æ˜ å°„åˆ°è¶…ç±»
2. **é‡‡æ ·ç­–ç•¥**: æŒ‰æ•°æ®é›†è§„æ¨¡/è´¨é‡è®¾ç½®é‡‡æ ·æƒé‡,é¿å…å¤§æ•°æ®é›†ä¸»å¯¼
3. **Loss å½’ä¸€åŒ–**: ä¸åŒæ•°æ®é›† Loss scale å¯èƒ½ä¸åŒ,éœ€è¦å½’ä¸€åŒ–
4. **éªŒè¯ç­–ç•¥**: åœ¨å„æ•°æ®é›† validation set ä¸Šåˆ†åˆ«è¯„ä¼°,é¿å…æ··æ·†

**æœ¬é¡¹ç›®åº”ç”¨**:

```python
# UAVDT (3ç±») â†’ VisDrone (10ç±»)
uavdt_to_visdrone = {
    'car': 3,      # UAVDT car â†’ VisDrone car
    'truck': 5,    # UAVDT truck â†’ VisDrone truck
    'bus': 8       # UAVDT bus â†’ VisDrone bus
}

# é‡‡æ ·æƒé‡ (æŒ‰é‡è¦æ€§)
dataset_weights = {
    'visdrone': 1.0,  # ä¸»æ•°æ®é›†,å…¨é‡‡æ ·
    'uavdt': 0.5,     # è¾…åŠ©æ•°æ®é›†,50%é‡‡æ ·
    'coco': 0.3       # é¢„è®­ç»ƒ,30%é‡‡æ ·
}
```

---

## âœ… æ€»ç»“

æ‚¨çš„åˆ†æå’Œå†³ç­–**å®Œå…¨æ­£ç¡®**:

1. âœ… **è¯†åˆ«äº†æ ¹æœ¬é—®é¢˜**: RemDet ç”¨å¤šæ•°æ®é›†,æˆ‘ä»¬åªç”¨å•æ•°æ®é›†
2. âœ… **ä¼˜å…ˆçº§æ¸…æ™°**: Small ç›®æ ‡æ‰æ˜¯ UAV åœºæ™¯çš„æ ¸å¿ƒ
3. âœ… **ç­–ç•¥åˆç†**: å…ˆä¼˜åŒ– Small,å†è¡¥å……æ•°æ®é›†è§£å†³ Large
4. âœ… **ç›®æ ‡æ˜ç¡®**: ç­‰å¤šæ•°æ®é›†è®­ç»ƒå®Œå†è¯„ä¼° Large æ€§èƒ½

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**:

- ğŸš€ **ç«‹å³**: èšç„¦ Small ç›®æ ‡æ”¹è¿›(FPN ä¼˜åŒ–, Loss è°ƒæ•´, æ•°æ®å¢å¼º)
- ğŸ“… **ä¸‹å‘¨**: å‡†å¤‡ UAVDT æ•°æ®é›†ä¸‹è½½å’Œå¤„ç†
- ğŸ¯ **2 å‘¨å**: å¼€å§‹å¤šæ•°æ®é›†è”åˆè®­ç»ƒ
- ğŸ“ **4 å‘¨å**: å®Œæ•´è¯„ä¼°å¹¶æ’°å†™è®ºæ–‡

**æ ¸å¿ƒä¼˜åŠ¿ä¿æŒ**:

- Small mAP å·²ç»é¢†å…ˆ RemDet-Tiny 143% â­
- Medium mAP é¢†å…ˆ 40% â­
- è¿™æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒç«äº‰åŠ›,ç»§ç»­å¼ºåŒ–!

è®©æˆ‘ä»¬ä¸“æ³¨äº**åšå¥½æ“…é•¿çš„**,å†å»**è¡¥é½çŸ­æ¿**! ğŸš€
